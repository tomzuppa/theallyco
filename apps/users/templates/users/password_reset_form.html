{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %}Reset Password{% endblock %}
{% block body_class %}auth-page{% endblock %}

{% block extra_head %}
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <link rel="stylesheet" href="{% static 'css/auth-forms.css' %}">
{% endblock %}

{% block content %}
<section class="vh-100 d-flex align-items-center justify-content-center">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-5 col-xl-4">
        <div class="card auth-card border-0">
          <div class="card-body p-5">
            
            <!-- Icon -->
            <div class="auth-icon">
              <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
              </svg>
            </div>

            <h2 class="text-center auth-title">Reset Password</h2>
            <p class="text-center auth-subtitle">Enter your email address and we'll send you a secure link to reset your password.</p>

            <form method="post" class="auth-form">
              {% csrf_token %}
              
              <div class="auth-form-group mb-4">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email Address</label>
                {% render_field form.email class="form-control" placeholder="Enter your email address" %}
              </div>
              
              <div class="auth-form-group recaptcha-container">
                <div class="g-recaptcha" 
                     data-sitekey="{{ RECAPTCHA_SITE_KEY }}"
                     data-size="compact"></div>
              </div>

              <div class="auth-form-group d-grid mb-4">
                <button type="submit" class="btn btn-primary">
                  <svg width="16" height="16" fill="currentColor" class="me-2" viewBox="0 0 24 24">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                  </svg>
                  Send Reset Link
                </button>
              </div>
            </form>

            <div class="auth-divider"></div>

            <div class="text-center">
                <a href="{% url 'users:login' %}" class="auth-link">
                  <svg width="14" height="14" fill="currentColor" class="me-1" viewBox="0 0 24 24">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                  </svg>
                  Back to Login
                </a>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}